<!DOCTYPE html>
<html>
  <head>
    <title>Company Employee</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </head>


  <body>
    <header class = 'bg-dark text-light text-center py-3'>
        
        


            </ul>
        <nav>
            <h1> List of Employees</h1>
    </header>
  <main>
    <section class = 'container mt-4'>
  <form>

    <div class = 'w-50'>
      <label>Filter by Department:</label>
      <select class="form-select" id = 'filterDepartment'>
        <option value ="All Departments">All Departments</option>
        <option value="IT">IT</option>
        <option value="Design">Design</option>
        <option value="Management">Management</option>
      </select>

    </div>
    <h2 class = 'mt-3'> Add Employee</h2>
    <div class="input-group mb-3">
      <div class = 'd-flex flex-column mt-4 w-100'>
      <label for = 'nameInput'>Name:</label>
      <input type="text" class="form-control" id = 'nameInput' >
    </div>

    <div class="input-group mb-3">
      <div class = 'd-flex flex-column mt-4 w-100'>
      <label for = 'nameTitle'>Title:</label>
      <input type="text" class="form-control" id = 'nameTitle' >
    </div>
    <div class = 'd-flex flex-column mt-4 w-100'>
    <label> Department:</label>
    <select class="form-select" id = 'addDepartment'>
      <option value="1">IT</option>
      <option value="2">Design</option>
      <option value="3">Management</option>
    </select>
  </div>
  <button id = 'addEmployee' class = 'btn btn-primary mt-2'>Add Employee</button>

  </form>
<section class = 'container'>
 <div id = 'result'>
 
  <ul class="list-group" id = 'resultList'>


  <ul>
  </div>
 </div>

</section>

   
    </main>
<script>

//Output// Need to create a card 

// dummy Array

    let employee = [
          {
            id: "1",
            name: "John Doe",
            title: "Software Developer",
            department: "IT",
          },
          {
            id: "2",
            name: "James Smith",
            title: "Designer",
            department: "Designer",
          },
          {
            id: "3",
            name: "Bob Johnson",
            title: "Project Manager",
            department: "Management",
          },
        ];

// step 2nd create a function for the card 


  function createCard(employee){
     
    let resultList = document.querySelector('#resultList')
        resultList.innerHTML = ''

    for(let i = 0 ; i< employee.length; i++){

      let listGroup1 = document.createElement('li')
         listGroup1.className = 'list-group-item mt-3 d-flex justify-content-between' 

         let employeeDetails = document.createElement('div')
        
         employeeDetails.innerHTML = `<strong>${employee[i].name}</strong><p>${employee[i].title}</p>`

    let details = document.createElement('a')
    details.href = `employeeDetails.html?id=${employee[i].id}`
    details.innerHTML = `Details`
    listGroup1.appendChild(employeeDetails)
    listGroup1.appendChild(details)
    resultList.appendChild(listGroup1)
        



    }



  }


// Step 3rd Use the event listener as user click on the button it should generate the card

let addEmployee = document.getElementById('addEmployee')

addEmployee.addEventListener('click', function(){

  event.preventDefault()
  let nameInput = document.getElementById('nameInput').value
  let nameTitle = document.getElementById('nameTitle').value
  let addDepartment = document.getElementById('addDepartment').value

  let newId = employee.length + 1


  if(nameInput && nameTitle && addDepartment){
  
    let newObj = {
          id:newId,
          name:nameInput,
          title: nameTitle,
          department:addDepartment
  
  }
  
  
  employee.push(newObj)
  createCard(employee)
  }else{
    employee.push(newObj)
  createCard(employee)
  }
   

})

// Adding filter option to my program

let filterDepartment = document.getElementById('filterDepartment')

filterDepartment.addEventListener('change', function(){
  
  let checkFilterDepartment = filterDepartment.value

  let selectedOption = []

if(checkFilterDepartment !== 'All Departments'){
  for(let i = 0; i < employee.length; i++){
   if(employee[i].department === checkFilterDepartment ){
    
       selectedOption.push(employee[i])

   }


  }
  

 
}else{
    selectedOption = employee
  }
  
  createCard(selectedOption);

})

 createCard(employee)


</script>
   
  </body>
</html>
