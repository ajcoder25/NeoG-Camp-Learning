<!DOCTYPE html>
<html>
  <head>
    <title>Employee Details</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <body>
      <header class="bg-dark text-light text-center py-3">
        <h1>Employee Details</h1>
        <nav></nav>
      </header>
      <main class="container mt-4 text-light">
        <section id="employeeDetail"></section>
      </main>

      <footer></footer>

      <!-- we will try to create an array of the object -->
      <script>
        // database
        let employees = [
          {
            id: "1",
            name: "John Doe",
            title: "Software Developer",
            department: "IT",
          },
          {
            id: "2",
            name: "James Smith",
            title: "Designer",
            department: "Designer",
          },
          {
            id: "3",
            name: "Bob Johnson",
            title: "Project Manager",
            department: "Management",
          },
        ];

        // Function to get query parameter by name
        function getParameterBy(name) {
          let url = new URL(window.location.href); // Create a URL object
          return url.searchParams.get(name); // Get the value of the query parameter
        }

        // Get the employee ID from the URL
        let employeeId = getParameterBy("id");

        // Find the id in the database
        let employee;
        for (let i = 0; i < employees.length; i++) {
          if (employees[i].id === employeeId) {
            employee = employees[i];
          }
        }

        // Get the HTML element where the details will be displayed

        let employeeDetailsElement = document.getElementById("employeeDetail");

        if (employee) {
          employeeDetailsElement.innerHTML = `
          <div class = 'card'>
            <div class = 'Card-body ps-4'>
          <h2 class = 'card-title'>${employee.name}</h2>
          <ul class = 'list-group list-group-flush'>
            <li class = 'list-group-item'>Name: ${employee.name} </li>
            <li class = 'list-group-item'>Designation: ${employee.title}</li>
            <li class = 'list-group-item'>Department: ${employee.department}</li>
          </ul>
          </div>
          </div>
          
          `;
        } else {
          document.getElementById("employeeDetail").innerHTML =
            "Employee not found.";
        }

        // Display the employee details or an error message
      </script>
    </body>
  </head>
</html>
