<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>HTML + CSS</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src = "	https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>

    #status{
        display: none;
        color:green;


        }

    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">Inventory Management</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="index.html"
                >Home</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="itemList.html">Item List</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="addItem.html">Add items</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <main class="container">
      <h2>Add Items</h2>
      <div class="mb-3">
        <label for="itemName">Item Name:</label><br />

        <input type="text" class="form-control" id="itemName" />
      </div>
      <label for="quantityInput">Quantity:</label><br />

      <input type="number" class="form-control" id="quantityInput" />
    </div>
    <label>Category:</label>
    <br>
   
    <select id = 'selectItem'>
        
        <option value="Perishable">Perishable</option>
        <option value="Non-Perishable">Non-Perishable</option>
      </select>
      <br>
      <br>
      <button id = 'addItem' class = 'btn btn-primary'>Add Items</button>
      <div id = 'status'>Item Added Sucessfully</div>
    </main>

    <script>

    let status = document.getElementById("status")

    addItem.addEventListener('click',function(){

        let itemName = document.getElementById('itemName')
        let quantityInput = document.getElementById('quantityInput')
        let selectItem = document.getElementById('selectItem')
         let api =
        "https://inventory-management-student-neog-ca.replit.app/inventory"

        let newItem = {
            itemName: itemName.value,
            quantity: quantityInput.value,
            category: selectItem.value
        }


        fetch(api,{
            method:'POST',
            body: JSON.stringify(newItem),
            headers:{
            "Content-Type": "application/json"
            }

        })
        .then(function(response){
            return response.json()
        })
        .then(function(data){
            if(data){
            status.style.display = 'block'
            
            }
        }).catch(function(error){
            console.log('not working')
        })




    })



    </script>
  </body>
</html>
